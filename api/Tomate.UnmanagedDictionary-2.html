<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Struct UnmanagedDictionary&lt;TKey, TValue&gt; | Tomate </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Struct UnmanagedDictionary&lt;TKey, TValue&gt; | Tomate ">
      
      <meta name="description" content="An unmanaged implementation of a dictionary">
      <link rel="icon" href="../images/favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/nockawa/Tomate/new/dev/apiSpec/new?filename=Tomate_UnmanagedDictionary_2.md&amp;value=---%0Auid%3A%20Tomate.UnmanagedDictionary%602%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/tomate.svg" alt="Tomate">
            Tomate
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Tomate.UnmanagedDictionary`2">



  <h1 id="Tomate_UnmanagedDictionary_2" data-uid="Tomate.UnmanagedDictionary`2" class="text-break">
Struct UnmanagedDictionary&lt;TKey, TValue&gt;  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L21"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Tomate.html">Tomate</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Tomate.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>An unmanaged implementation of a dictionary</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">[PublicAPI]
public struct UnmanagedDictionary&lt;TKey, TValue&gt; : IUnmanagedCollection, IRefCounted, IDisposable where TKey : unmanaged where TValue : unmanaged</code></pre>
  </div>



  <h4 class="section">Type Parameters</h4>
  <dl class="parameters">
    <dt><code>TKey</code></dt>
    <dd><p>Type of the key</p>
</dd>
    <dt><code>TValue</code></dt>
    <dd><p>Type of the value</p>
</dd>
  </dl>


  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="Tomate.IUnmanagedCollection.html">IUnmanagedCollection</a></div>
      <div><a class="xref" href="Tomate.IRefCounted.html">IRefCounted</a></div>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.idisposable">IDisposable</a></div>
    </dd>
  </dl>


  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.equals">ValueType.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.gethashcode">ValueType.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.valuetype.tostring">ValueType.ToString()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="Tomate.DisposeExtensions.html#Tomate_DisposeExtensions_DisposeAndNull__1_System_Object___0__">DisposeExtensions.DisposeAndNull&lt;T&gt;(object, ref T)</a>
  </div>
  </dd></dl>



  <h2 id="Tomate_UnmanagedDictionary_2_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>This implementation is a big copy/paste of the .net Dictionary{TKey, TValue} class and adapted to this usage.
This type is MemoryMappedFile friendly, meaning you can allocate instances of this type with an <a class="xref" href="Tomate.MemoryManagerOverMMF.html">MemoryManagerOverMMF</a> as memory manager.
This type can't store custom comparer in order to be unmanaged, some APIs will use the default one (like the Subscript operator), other will take one
as an argument (like the <a class="xref" href="Tomate.UnmanagedDictionary-2.html#Tomate_UnmanagedDictionary_2_TryGetValue__0_System_Boolean__System_Collections_Generic_IEqualityComparer__0__">TryGetValue(TKey, out bool, IEqualityComparer&lt;TKey&gt;)</a> method).</p>
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Tomate_UnmanagedDictionary_2__ctor_" data-uid="Tomate.UnmanagedDictionary`2.#ctor*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2__ctor" data-uid="Tomate.UnmanagedDictionary`2.#ctor">
  UnmanagedDictionary()
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L296"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public UnmanagedDictionary()</code></pre>
  </div>













  <a id="Tomate_UnmanagedDictionary_2__ctor_" data-uid="Tomate.UnmanagedDictionary`2.#ctor*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2__ctor_Tomate_IMemoryManager_System_Int32_" data-uid="Tomate.UnmanagedDictionary`2.#ctor(Tomate.IMemoryManager,System.Int32)">
  UnmanagedDictionary(IMemoryManager, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L301"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public UnmanagedDictionary(IMemoryManager owner, int capacity)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>owner</code> <a class="xref" href="Tomate.IMemoryManager.html">IMemoryManager</a></dt>
    <dd></dd>
    <dt><code>capacity</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>












  <h2 class="section" id="properties">Properties
</h2>


  <a id="Tomate_UnmanagedDictionary_2_Count_" data-uid="Tomate.UnmanagedDictionary`2.Count*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_Count" data-uid="Tomate.UnmanagedDictionary`2.Count">
  Count
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L64"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Get the item count</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Count { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The number of items in the list or -1 if the instance is invalid.</p>
</dd>
  </dl>








  <a id="Tomate_UnmanagedDictionary_2_IsDefault_" data-uid="Tomate.UnmanagedDictionary`2.IsDefault*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_IsDefault" data-uid="Tomate.UnmanagedDictionary`2.IsDefault">
  IsDefault
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L73"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Check if the instance is the default (not constructed) one</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool IsDefault { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="Tomate_UnmanagedDictionary_2_IsDefault_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>A default instance can't be used, some APIs will assert in debug mode and crash in release mode, others will throw an exception or return -1.
There is no distinction between a default instance and a disposed one.</p>
</div>




  <a id="Tomate_UnmanagedDictionary_2_IsDisposed_" data-uid="Tomate.UnmanagedDictionary`2.IsDisposed*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_IsDisposed" data-uid="Tomate.UnmanagedDictionary`2.IsDisposed">
  IsDisposed
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L82"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Check if the instance is disposed</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool IsDisposed { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="Tomate_UnmanagedDictionary_2_IsDisposed_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>A disposed instance can't be used, some APIs will assert in debug mode and crash in release mode, others will throw an exception or return -1.
There is no distinction between a default instance and a disposed one.</p>
</div>




  <a id="Tomate_UnmanagedDictionary_2_Item_" data-uid="Tomate.UnmanagedDictionary`2.Item*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_Item__0_" data-uid="Tomate.UnmanagedDictionary`2.Item(`0)">
  this[TKey]
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L43"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Get/Set the value for the given key</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ref TValue this[TKey key] { get; }</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <span class="xref">TKey</span></dt>
    <dd><p>The key to look for or set</p>
</dd>
  </dl>




  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><span class="xref">TValue</span></dt>
    <dd></dd>
  </dl>




  <h4 class="section" id="Tomate_UnmanagedDictionary_2_Item__0__remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>If the key doesn't exist, the getter will throw an exception, the setter will add a new entry.
It also will rely on the default comparer, if you need to use a custom one, you should use the <a class="xref" href="Tomate.UnmanagedDictionary-2.html#Tomate_UnmanagedDictionary_2_TryGetValue__0_System_Boolean__System_Collections_Generic_IEqualityComparer__0__">TryGetValue(TKey, out bool, IEqualityComparer&lt;TKey&gt;)</a> and <a class="xref" href="Tomate.UnmanagedDictionary-2.html#Tomate_UnmanagedDictionary_2_TrySetValue__0__1_System_Collections_Generic_IEqualityComparer__0__">TrySetValue(TKey, TValue, IEqualityComparer&lt;TKey&gt;)</a>.</p>
</div>




  <a id="Tomate_UnmanagedDictionary_2_MemoryBlock_" data-uid="Tomate.UnmanagedDictionary`2.MemoryBlock*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_MemoryBlock" data-uid="Tomate.UnmanagedDictionary`2.MemoryBlock">
  MemoryBlock
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L87"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public MemoryBlock MemoryBlock { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Tomate.MemoryBlock.html">MemoryBlock</a></dt>
    <dd></dd>
  </dl>








  <a id="Tomate_UnmanagedDictionary_2_MemoryManager_" data-uid="Tomate.UnmanagedDictionary`2.MemoryManager*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_MemoryManager" data-uid="Tomate.UnmanagedDictionary`2.MemoryManager">
  MemoryManager
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L86"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IMemoryManager MemoryManager { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Tomate.IMemoryManager.html">IMemoryManager</a></dt>
    <dd></dd>
  </dl>








  <a id="Tomate_UnmanagedDictionary_2_RefCounter_" data-uid="Tomate.UnmanagedDictionary`2.RefCounter*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_RefCounter" data-uid="Tomate.UnmanagedDictionary`2.RefCounter">
  RefCounter
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L84"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int RefCounter { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="Tomate_UnmanagedDictionary_2_Add_" data-uid="Tomate.UnmanagedDictionary`2.Add*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_Add__0__1_System_Collections_Generic_IEqualityComparer__0__" data-uid="Tomate.UnmanagedDictionary`2.Add(`0,`1,System.Collections.Generic.IEqualityComparer{`0})">
  Add(TKey, TValue, IEqualityComparer&lt;TKey&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L160"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Add a new entry to the dictionary given the key and its corresponding value</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Add(TKey key, TValue value, IEqualityComparer&lt;TKey&gt; comparer = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <span class="xref">TKey</span></dt>
    <dd><p>The key of the entry must be unique, will throw if it already exists</p>
</dd>
    <dt><code>value</code> <span class="xref">TValue</span></dt>
    <dd></dd>
    <dt><code>comparer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iequalitycomparer-1">IEqualityComparer</a>&lt;TKey&gt;</dt>
    <dd></dd>
  </dl>









  <h4 class="section">Exceptions</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.argumentexception">ArgumentException</a></dt>
    <dd><p>If <code class="paramref">key</code> is already present in the dictionary</p>
</dd>
  </dl>



  <a id="Tomate_UnmanagedDictionary_2_AddRef_" data-uid="Tomate.UnmanagedDictionary`2.AddRef*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_AddRef" data-uid="Tomate.UnmanagedDictionary`2.AddRef">
  AddRef()
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L109"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int AddRef()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>











  <a id="Tomate_UnmanagedDictionary_2_Create_" data-uid="Tomate.UnmanagedDictionary`2.Create*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_Create_Tomate_IMemoryManager_System_Int32_" data-uid="Tomate.UnmanagedDictionary`2.Create(Tomate.IMemoryManager,System.Int32)">
  Create(IMemoryManager, int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L101"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Create a new instance</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static UnmanagedDictionary&lt;TKey, TValue&gt; Create(IMemoryManager memoryManager = null, int capacity = 11)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>memoryManager</code> <a class="xref" href="Tomate.IMemoryManager.html">IMemoryManager</a></dt>
    <dd><p>The memory manager to use, if <code>null</code>, the global one will be used (see <a class="xref" href="Tomate.DefaultMemoryManager.html#Tomate_DefaultMemoryManager_GlobalInstance">GlobalInstance</a>)</p>
</dd>
    <dt><code>capacity</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>The initial capacity</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Tomate.UnmanagedDictionary-2.html">UnmanagedDictionary</a>&lt;TKey, TValue&gt;</dt>
    <dd><p>The created instance</p>
</dd>
  </dl>











  <a id="Tomate_UnmanagedDictionary_2_Dispose_" data-uid="Tomate.UnmanagedDictionary`2.Dispose*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_Dispose" data-uid="Tomate.UnmanagedDictionary`2.Dispose">
  Dispose()
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L117"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Dispose the instance, see remarks</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Dispose()</code></pre>
  </div>









  <h4 class="section" id="Tomate_UnmanagedDictionary_2_Dispose_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This call will decrement the reference counter by 1 and the instance will effectively be disposed if it reaches 0, otherwise it will still be usable.</p>
</div>




  <a id="Tomate_UnmanagedDictionary_2_EnsureCapacity_" data-uid="Tomate.UnmanagedDictionary`2.EnsureCapacity*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_EnsureCapacity_System_Int32_" data-uid="Tomate.UnmanagedDictionary`2.EnsureCapacity(System.Int32)">
  EnsureCapacity(int)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L135"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Ensures that the dictionary can hold up to 'capacity' entries without any further expansion of its backing storage</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int EnsureCapacity(int capacity)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>capacity</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>











  <a id="Tomate_UnmanagedDictionary_2_GetEnumerator_" data-uid="Tomate.UnmanagedDictionary`2.GetEnumerator*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_GetEnumerator" data-uid="Tomate.UnmanagedDictionary`2.GetEnumerator">
  GetEnumerator()
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L288"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Enumerator access for <code>foreach</code></p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public UnmanagedDictionary&lt;TKey, TValue&gt;.Enumerator GetEnumerator()</code></pre>
  </div>


  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="Tomate.UnmanagedDictionary-2.html">UnmanagedDictionary</a>&lt;TKey, TValue&gt;.<a class="xref" href="Tomate.UnmanagedDictionary-2.Enumerator.html">Enumerator</a></dt>
    <dd><p>The enumerator, an instance of the <a class="xref" href="Tomate.UnmanagedDictionary-2.Enumerator.html">UnmanagedDictionary&lt;TKey, TValue&gt;.Enumerator</a> type</p>
</dd>
  </dl>







  <h4 class="section" id="Tomate_UnmanagedDictionary_2_GetEnumerator_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>BEWARE: the enumerator will rely on the default comparer.</p>
</div>




  <a id="Tomate_UnmanagedDictionary_2_GetOrAdd_" data-uid="Tomate.UnmanagedDictionary`2.GetOrAdd*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_GetOrAdd__0_System_Boolean__System_Collections_Generic_IEqualityComparer__0__" data-uid="Tomate.UnmanagedDictionary`2.GetOrAdd(`0,System.Boolean@,System.Collections.Generic.IEqualityComparer{`0})">
  GetOrAdd(TKey, out bool, IEqualityComparer&lt;TKey&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L173"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Get the value for the given key or add a new entry if it doesn't exist</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ref TValue GetOrAdd(TKey key, out bool found, IEqualityComparer&lt;TKey&gt; comparer = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <span class="xref">TKey</span></dt>
    <dd><p>The key of the element to get or add</p>
</dd>
    <dt><code>found</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>If <code>true</code> the element with this key already exists. If <code>false</code> there was no element for the given key and we've added one.</p>
</dd>
    <dt><code>comparer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iequalitycomparer-1">IEqualityComparer</a>&lt;TKey&gt;</dt>
    <dd><p>The comparer to use with this operation, <code>null</code> will be the default one</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><span class="xref">TValue</span></dt>
    <dd><p>The value of the element corresponding to the given key</p>
</dd>
  </dl>











  <a id="Tomate_UnmanagedDictionary_2_RefreshFromMMF_" data-uid="Tomate.UnmanagedDictionary`2.RefreshFromMMF*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_RefreshFromMMF_Tomate_MemoryBlock_" data-uid="Tomate.UnmanagedDictionary`2.RefreshFromMMF(Tomate.MemoryBlock)">
  RefreshFromMMF(MemoryBlock)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L103"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void RefreshFromMMF(MemoryBlock newData)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>newData</code> <a class="xref" href="Tomate.MemoryBlock.html">MemoryBlock</a></dt>
    <dd></dd>
  </dl>












  <a id="Tomate_UnmanagedDictionary_2_Remove_" data-uid="Tomate.UnmanagedDictionary`2.Remove*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_Remove__0__1__System_Collections_Generic_IEqualityComparer__0__" data-uid="Tomate.UnmanagedDictionary`2.Remove(`0,`1@,System.Collections.Generic.IEqualityComparer{`0})">
  Remove(TKey, out TValue, IEqualityComparer&lt;TKey&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L182"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Remove the entry of the given key from the dictionary</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool Remove(TKey key, out TValue value, IEqualityComparer&lt;TKey&gt; comparer = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <span class="xref">TKey</span></dt>
    <dd><p>The key of the entry to remove</p>
</dd>
    <dt><code>value</code> <span class="xref">TValue</span></dt>
    <dd><p>If the entry was successfully removed, will contain the corresponding value, otherwise will contain <code>default</code>.</p>
</dd>
    <dt><code>comparer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iequalitycomparer-1">IEqualityComparer</a>&lt;TKey&gt;</dt>
    <dd><p>The comparer to use with this operation, <code>null</code> will be the default one</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>











  <a id="Tomate_UnmanagedDictionary_2_TryAdd_" data-uid="Tomate.UnmanagedDictionary`2.TryAdd*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_TryAdd__0__1_System_Collections_Generic_IEqualityComparer__0__" data-uid="Tomate.UnmanagedDictionary`2.TryAdd(`0,`1,System.Collections.Generic.IEqualityComparer{`0})">
  TryAdd(TKey, TValue, IEqualityComparer&lt;TKey&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L248"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Try to add a new entry, if the key already exists, the operation will return <code>false</code></p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool TryAdd(TKey key, TValue value, IEqualityComparer&lt;TKey&gt; comparer = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <span class="xref">TKey</span></dt>
    <dd><p>The key of the entry to add</p>
</dd>
    <dt><code>value</code> <span class="xref">TValue</span></dt>
    <dd><p>The corresponding value</p>
</dd>
    <dt><code>comparer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iequalitycomparer-1">IEqualityComparer</a>&lt;TKey&gt;</dt>
    <dd><p>The comparer to use with this operation, <code>null</code> will be the default one</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Returns <code>true</code> is the entry was successfully added, <code>false</code> if we couldn't add it because there's already another with the same key</p>
</dd>
  </dl>











  <a id="Tomate_UnmanagedDictionary_2_TryGetValue_" data-uid="Tomate.UnmanagedDictionary`2.TryGetValue*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_TryGetValue__0_System_Boolean__System_Collections_Generic_IEqualityComparer__0__" data-uid="Tomate.UnmanagedDictionary`2.TryGetValue(`0,System.Boolean@,System.Collections.Generic.IEqualityComparer{`0})">
  TryGetValue(TKey, out bool, IEqualityComparer&lt;TKey&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L263"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Try to get the value corresponding to the given key</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ref TValue TryGetValue(TKey key, out bool found, IEqualityComparer&lt;TKey&gt; comparer = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <span class="xref">TKey</span></dt>
    <dd><p>The key of the element to access its value from.</p>
</dd>
    <dt><code>found</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
    <dt><code>comparer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iequalitycomparer-1">IEqualityComparer</a>&lt;TKey&gt;</dt>
    <dd><p>The comparer to use with this operation, <code>null</code> will be the default one</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><span class="xref">TValue</span></dt>
    <dd><p>Will return <code>true</code> if the element was found, <code>false</code> otherwise.</p>
</dd>
  </dl>











  <a id="Tomate_UnmanagedDictionary_2_TrySetValue_" data-uid="Tomate.UnmanagedDictionary`2.TrySetValue*"></a>

  <h3 id="Tomate_UnmanagedDictionary_2_TrySetValue__0__1_System_Collections_Generic_IEqualityComparer__0__" data-uid="Tomate.UnmanagedDictionary`2.TrySetValue(`0,`1,System.Collections.Generic.IEqualityComparer{`0})">
  TrySetValue(TKey, TValue, IEqualityComparer&lt;TKey&gt;)
  <a class="header-action link-secondary" title="View source" href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L275"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Add/set a entry in the dictionary</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool TrySetValue(TKey key, TValue value, IEqualityComparer&lt;TKey&gt; comparer = null)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>key</code> <span class="xref">TKey</span></dt>
    <dd><p>The key of the entry to add or change</p>
</dd>
    <dt><code>value</code> <span class="xref">TValue</span></dt>
    <dd><p>The value to add/set</p>
</dd>
    <dt><code>comparer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.iequalitycomparer-1">IEqualityComparer</a>&lt;TKey&gt;</dt>
    <dd><p>The comparer to use with this operation, <code>null</code> will be the default one</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>Returns <code>false</code> if a new entry was added, <code>true</code> if an existing one was modified with the new give value.</p>
</dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/nockawa/Tomate/blob/dev/src/Tomate/Collections/UnmanagedDictionary.cs/#L21" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Copyright (c) Loïc Baumann
        </div>
      </div>
    </footer>
  </body>
</html>
